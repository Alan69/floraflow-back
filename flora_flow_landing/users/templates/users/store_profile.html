{% extends 'base.html' %}
{% load static %}

{% block main %}
<section class="store-profile-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="profile-content">
                    <div class="profile-header">
                        <h2>Профиль магазина</h2>
                        <p class="text-muted">Управление информацией о магазине</p>
                    </div>
                    <form method="POST" class="store-profile-form" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="row g-4">
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" name="store_name" value="{{ store.store_name }}" class="form-control" id="floatingStoreName" placeholder="Название магазина">
                                    <label for="floatingStoreName">Название магазина</label>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" name="whatsapp_number" value="{{ store.whatsapp_number }}" class="form-control" id="floatingWhatsApp" placeholder="Номер WhatsApp">
                                    <label for="floatingWhatsApp">Номер WhatsApp</label>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-floating">
                                    <textarea name="address" class="form-control" id="floatingAddress" style="height: 100px" placeholder="Адрес">{{ store.address }}</textarea>
                                    <label for="floatingAddress">Адрес</label>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="url" name="instagram_link" value="{{ store.instagram_link }}" class="form-control" id="floatingInstagram" placeholder="Ссылка на Instagram">
                                    <label for="floatingInstagram">Ссылка на Instagram</label>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="url" name="twogis" value="{{ store.twogis }}" class="form-control" id="floatingTwogis" placeholder="Ссылка на 2GIS">
                                    <label for="floatingTwogis">Ссылка на 2GIS</label>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="mb-3">
                                    <label for="formLogo" class="form-label">Логотип магазина</label>
                                    {% if store.logo %}
                                        <div class="mb-2">
                                            <img src="{{ store.logo }}" alt="Current logo" class="img-thumbnail" style="max-height: 100px;">
                                        </div>
                                    {% endif %}
                                    <input type="file" name="logo" class="form-control" id="formLogo" accept="image/*">
                                </div>
                            </div>

                            {% if store.average_rating %}
                            <div class="col-12">
                                <div class="alert alert-info">
                                    <strong>Средний рейтинг:</strong> {{ store.average_rating }}
                                </div>
                            </div>
                            {% endif %}
                        </div>

                        <div class="mt-4 text-end">
                            <a href="{% url 'profile' %}" class="btn btn-outline-secondary me-2">
                                <i class="fas fa-arrow-left me-2"></i>Назад к профилю
                            </a>
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-save me-2"></i>Сохранить изменения
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %} 